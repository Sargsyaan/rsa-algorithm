{"ast":null,"code":"import { gcd, getRandomPrimePair, modInverse, modularExp } from \"./utils\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@taiga-ui/core\";\nimport * as i2 from \"@taiga-ui/kit\";\nimport * as i3 from \"@angular/forms\";\n\nfunction AppComponent_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelementStart(1, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function AppComponent_ng_template_7_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.generateKeys();\n    });\n    i0.ɵɵtext(2, \" \\u0533\\u0565\\u0576\\u0565\\u0580\\u0561\\u0581\\u0576\\u0565\\u056C \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 6);\n    i0.ɵɵelementStart(4, \"label\", 7);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵelementStart(7, \"label\", 8);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.publicKey || \"N/A\", \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.privateKey || \"N/A\", \" \");\n  }\n}\n\nfunction AppComponent_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", null, 9);\n    i0.ɵɵelementStart(2, \"tui-input-number\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_ng_template_11_Template_tui_input_number_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.toEncode = $event;\n    });\n    i0.ɵɵtext(3, \" \\u053F\\u0578\\u0564\\u0561\\u057E\\u0578\\u0580\\u057E\\u0578\\u0572 \\u0569\\u056B\\u057E\\u0568 \");\n    i0.ɵɵelement(4, \"input\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵelementStart(6, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function AppComponent_ng_template_11_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.encode();\n    });\n    i0.ɵɵtext(7, \" \\u053F\\u0578\\u0564\\u0561\\u057E\\u0578\\u0580\\u0565\\u056C \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵelementStart(10, \"label\", 12);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.toEncode);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.encodeResult || \"N/A\", \" \");\n  }\n}\n\nfunction AppComponent_ng_template_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", null, 9);\n    i0.ɵɵelementStart(2, \"tui-input-number\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_ng_template_15_Template_tui_input_number_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.toDecode = $event;\n    });\n    i0.ɵɵtext(3, \" \\u0531\\u057A\\u0561\\u056F\\u0578\\u0564\\u0561\\u057E\\u0578\\u0580\\u057E\\u0578\\u0572 \\u0569\\u056B\\u057E\\u0568 \");\n    i0.ɵɵelement(4, \"input\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵelementStart(6, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function AppComponent_ng_template_15_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.decode();\n    });\n    i0.ɵɵtext(7, \" \\u0531\\u057A\\u0561\\u056F\\u0578\\u0564\\u0561\\u057E\\u0578\\u0580\\u0565\\u056C \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵelementStart(10, \"label\", 12);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.toDecode);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.decodeResult || \"N/A\", \" \");\n  }\n}\n\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(cdRef) {\n      this.cdRef = cdRef;\n      this.rsaBitOpen = true;\n      this.publicKey = null;\n      this.privateKey = null;\n      this.toEncode = 0;\n      this.toDecode = 0;\n      this.encodeResult = '';\n      this.decodeResult = '';\n      this.n = 0;\n      this.e = 0;\n      this.d = 0;\n    }\n\n    generateKeys() {\n      const [p, q] = getRandomPrimePair();\n      this.n = p * q;\n      let phiN = (p - 1) * (q - 1);\n\n      for (let i = 3; i < phiN; i += 2) {\n        if (gcd(phiN, i) === 1) {\n          this.e = i;\n          break;\n        }\n      }\n\n      this.d = modInverse(this.e, phiN);\n      this.publicKey = `(${this.n}, ${this.e})`;\n      this.privateKey = `(${this.n}, ${this.d})`;\n      this.cdRef.detectChanges();\n    }\n\n    encode() {\n      if (this.toEncode && this.e && this.n) {\n        this.encodeResult = modularExp(this.toEncode, this.e, this.n).toString();\n      } else {\n        alert('Գեներացրեք բանալիները');\n      }\n    }\n\n    decode() {\n      if (this.toDecode && this.d && this.n) {\n        this.decodeResult = modularExp(this.toDecode, this.d, this.n).toString();\n      } else {\n        alert('Գեներացրեք բանալիները');\n      }\n    }\n\n  }\n\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    decls: 16,\n    vars: 2,\n    consts: [[1, \"tui-form__header_margin-bottom_small\"], [1, \"container\", 3, \"closeOthers\"], [3, \"open\", \"openChange\"], [\"tuiAccordionItemContent\", \"\"], [2, \"display\", \"flex\", \"align-items\", \"center\"], [\"tuiButton\", \"\", \"appearance\", \"accent\", \"type\", \"button\", \"size\", \"m\", 1, \"tui-space_right-1\", \"tui-space_bottom-1\", 3, \"click\"], [2, \"margin-top\", \"1rem\", \"display\", \"flex\", \"justify-content\", \"space-between\", \"width\", \"50%\"], [\"tuiLabel\", \"\", \"label\", \"Public \\u0562\\u0561\\u0576\\u0561\\u056C\\u056B\"], [\"tuiLabel\", \"\", \"label\", \"Private \\u0562\\u0561\\u0576\\u0561\\u056C\\u056B\"], [\"content\", \"\"], [3, \"ngModel\", \"ngModelChange\"], [\"tuiTextfield\", \"\"], [\"tuiLabel\", \"\", \"label\", \"\\u0531\\u0580\\u0564\\u0575\\u0578\\u0582\\u0576\\u0584\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"tui-root\");\n        i0.ɵɵelementStart(1, \"h1\", 0);\n        i0.ɵɵtext(2, \" RSA \\u053F\\u0578\\u0564\\u0561\\u057E\\u0578\\u0580\\u0578\\u0582\\u0574/\\u0531\\u057A\\u0561\\u056F\\u0578\\u0564\\u0561\\u057E\\u0578\\u0580\\u0578\\u0582\\u0574 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"tui-accordion\", 1);\n        i0.ɵɵelementStart(4, \"tui-accordion-item\", 2);\n        i0.ɵɵlistener(\"openChange\", function AppComponent_Template_tui_accordion_item_openChange_4_listener($event) {\n          return ctx.rsaBitOpen = $event;\n        });\n        i0.ɵɵelementStart(5, \"strong\");\n        i0.ɵɵtext(6, \"RSA \\u0562\\u0561\\u0576\\u0561\\u056C\\u0578\\u0582 \\u0563\\u0565\\u0576\\u0565\\u0580\\u0561\\u0581\\u0578\\u0582\\u0574\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(7, AppComponent_ng_template_7_Template, 9, 2, \"ng-template\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"tui-accordion-item\");\n        i0.ɵɵelementStart(9, \"strong\");\n        i0.ɵɵtext(10, \"\\u053F\\u0578\\u0564\\u0561\\u057E\\u0578\\u0580\\u0578\\u0582\\u0574\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(11, AppComponent_ng_template_11_Template, 12, 2, \"ng-template\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"tui-accordion-item\");\n        i0.ɵɵelementStart(13, \"strong\");\n        i0.ɵɵtext(14, \"\\u0531\\u057A\\u0561\\u056F\\u0578\\u0564\\u0561\\u057E\\u0578\\u0580\\u0578\\u0582\\u0574\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(15, AppComponent_ng_template_15_Template, 12, 2, \"ng-template\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"closeOthers\", false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"open\", ctx.rsaBitOpen);\n      }\n    },\n    directives: [i1.TuiRootComponent, i2.TuiAccordionComponent, i2.TuiAccordionItemComponent, i2.TuiAccordionItemContentDirective, i1.TuiButtonComponent, i1.TuiLabelComponent, i2.TuiInputNumberComponent, i2.TuiInputNumberDirective, i3.NgControlStatus, i3.NgModel, i1.TuiTextfieldComponent],\n    styles: [\"\"]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}