{"ast":null,"code":"import { __decorate, __param } from 'tslib';\nimport { ViewChildren, forwardRef, Input, Directive, Inject, Component, ChangeDetectionStrategy, NgModule } from '@angular/core';\nimport { tuiDefaultProp as tuiDefaultProp$1 } from '@taiga-ui/cdk/decorators';\nimport { TUI_DATA_LIST_ACCESSOR } from '@taiga-ui/core/tokens';\nimport { TUI_ITEMS_HANDLERS } from '@taiga-ui/kit/tokens';\nimport { EMPTY_QUERY, isNativeFocused, isPresent, tuiDefaultProp, TuiElementModule } from '@taiga-ui/cdk';\nimport { TuiOptionComponent, TUI_DATA_LIST_ACCESSOR as TUI_DATA_LIST_ACCESSOR$1, TuiDataListModule, TuiLoaderModule, TuiDataListDirective } from '@taiga-ui/core';\nimport { CommonModule } from '@angular/common';\nimport { PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\nimport * as ɵngcc2 from '@taiga-ui/core';\nimport * as ɵngcc3 from '@taiga-ui/cdk';\nimport * as ɵngcc4 from '@tinkoff/ng-polymorpheus';\nconst _c0 = [\"labels\", \"\"];\n\nfunction TuiDataListGroupWrapperComponent_tui_data_list_0_tui_opt_group_1_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"button\", 6, 7);\n    ɵngcc0.ɵɵelement(2, \"span\", 8);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r7 = ctx.$implicit;\n\n    const _r8 = ɵngcc0.ɵɵreference(1);\n\n    const ctx_r6 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵproperty(\"size\", ctx_r6.size)(\"value\", item_r7)(\"disabled\", ctx_r6.disabledItemHandler(item_r7));\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"content\", ctx_r6.itemContent)(\"context\", ctx_r6.getContext(item_r7, _r8));\n  }\n}\n\nfunction TuiDataListGroupWrapperComponent_tui_data_list_0_tui_opt_group_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"tui-opt-group\", 4);\n    ɵngcc0.ɵɵtemplate(1, TuiDataListGroupWrapperComponent_tui_data_list_0_tui_opt_group_1_button_1_Template, 3, 5, \"button\", 5);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const group_r4 = ctx.$implicit;\n    const index_r5 = ctx.index;\n    const ctx_r3 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"label\", ctx_r3.labels[index_r5]);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", group_r4);\n  }\n}\n\nfunction TuiDataListGroupWrapperComponent_tui_data_list_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"tui-data-list\", 2);\n    ɵngcc0.ɵɵtemplate(1, TuiDataListGroupWrapperComponent_tui_data_list_0_tui_opt_group_1_Template, 2, 2, \"tui-opt-group\", 3);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"emptyContent\", ctx_r0.emptyContent);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r0.items);\n  }\n}\n\nfunction TuiDataListGroupWrapperComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"tui-loader\", 9);\n  }\n}\n\nfunction TuiDataListWrapperComponent_tui_data_list_0_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"button\", 4, 5);\n    ɵngcc0.ɵɵelement(2, \"span\", 6);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n\n    const _r5 = ɵngcc0.ɵɵreference(1);\n\n    const ctx_r3 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"size\", ctx_r3.size)(\"value\", item_r4)(\"disabled\", ctx_r3.disabledItemHandler(item_r4));\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"content\", ctx_r3.itemContent)(\"context\", ctx_r3.getContext(item_r4, _r5));\n  }\n}\n\nfunction TuiDataListWrapperComponent_tui_data_list_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"tui-data-list\", 2);\n    ɵngcc0.ɵɵtemplate(1, TuiDataListWrapperComponent_tui_data_list_0_button_1_Template, 3, 5, \"button\", 3);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"emptyContent\", ctx_r0.emptyContent);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r0.items);\n  }\n}\n\nfunction TuiDataListWrapperComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"tui-loader\", 7);\n  }\n}\n\nconst _c1 = \"[_nghost-%COMP%]{display:block}.t-content[_ngcontent-%COMP%]{flex:1}.t-loader[_ngcontent-%COMP%]{margin:.75rem 0}\";\nlet AbstractDataListWrapper = /*#__PURE__*/(() => {\n  let AbstractDataListWrapper = class AbstractDataListWrapper {\n    constructor(itemsHandlers) {\n      this.itemsHandlers = itemsHandlers;\n      this.optionsQuery = EMPTY_QUERY;\n      this.disabledItemHandler = this.itemsHandlers.disabledItemHandler;\n      this.emptyContent = '';\n      this.size = 'm';\n\n      this.itemContent = ({\n        $implicit\n      }) => this.itemsHandlers.stringify($implicit);\n    }\n\n    getContext($implicit, {\n      nativeElement\n    }) {\n      return {\n        $implicit,\n        active: isNativeFocused(nativeElement)\n      };\n    }\n\n    getOptions(includeDisabled = false) {\n      return this.optionsQuery.toArray().filter(({\n        disabled\n      }) => includeDisabled || !disabled).map(({\n        value\n      }) => value).filter(isPresent);\n    }\n\n  };\n\n  AbstractDataListWrapper.ɵfac = function AbstractDataListWrapper_Factory(t) {\n    return new (t || AbstractDataListWrapper)(ɵngcc0.ɵɵdirectiveInject(undefined));\n  };\n\n  AbstractDataListWrapper.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n    type: AbstractDataListWrapper,\n    viewQuery: function AbstractDataListWrapper_Query(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(TuiOptionComponent, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.optionsQuery = _t);\n      }\n    },\n    inputs: {\n      disabledItemHandler: \"disabledItemHandler\",\n      emptyContent: \"emptyContent\",\n      size: \"size\",\n      itemContent: \"itemContent\"\n    }\n  });\n\n  __decorate([ViewChildren(forwardRef(() => TuiOptionComponent))], AbstractDataListWrapper.prototype, \"optionsQuery\", void 0);\n\n  __decorate([Input(), tuiDefaultProp()], AbstractDataListWrapper.prototype, \"disabledItemHandler\", void 0);\n\n  __decorate([Input(), tuiDefaultProp()], AbstractDataListWrapper.prototype, \"emptyContent\", void 0);\n\n  __decorate([Input(), tuiDefaultProp()], AbstractDataListWrapper.prototype, \"size\", void 0);\n\n  __decorate([Input(), tuiDefaultProp()], AbstractDataListWrapper.prototype, \"itemContent\", void 0);\n\n  return AbstractDataListWrapper;\n})();\nvar TuiDataListGroupWrapperComponent_1;\nlet TuiDataListGroupWrapperComponent = TuiDataListGroupWrapperComponent_1 = class TuiDataListGroupWrapperComponent extends AbstractDataListWrapper {\n  constructor(itemsHandlers) {\n    super(itemsHandlers);\n    this.items = [];\n    this.labels = [];\n  }\n\n};\n\nTuiDataListGroupWrapperComponent.ɵfac = function TuiDataListGroupWrapperComponent_Factory(t) {\n  return new (t || TuiDataListGroupWrapperComponent)(ɵngcc0.ɵɵdirectiveInject(TUI_ITEMS_HANDLERS));\n};\n\nTuiDataListGroupWrapperComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: TuiDataListGroupWrapperComponent,\n  selectors: [[\"tui-data-list-wrapper\", \"labels\", \"\"]],\n  inputs: {\n    items: \"items\",\n    labels: \"labels\"\n  },\n  features: [ɵngcc0.ɵɵProvidersFeature([{\n    provide: TUI_DATA_LIST_ACCESSOR,\n    useExisting: forwardRef(() => TuiDataListGroupWrapperComponent_1)\n  }]), ɵngcc0.ɵɵInheritDefinitionFeature],\n  attrs: _c0,\n  decls: 3,\n  vars: 2,\n  consts: [[3, \"emptyContent\", 4, \"ngIf\", \"ngIfElse\"], [\"loading\", \"\"], [3, \"emptyContent\"], [3, \"label\", 4, \"ngFor\", \"ngForOf\"], [3, \"label\"], [\"tuiElement\", \"\", \"tuiOption\", \"\", \"automation-id\", \"tui-data-list-wrapper__option\", 3, \"size\", \"value\", \"disabled\", 4, \"ngFor\", \"ngForOf\"], [\"tuiElement\", \"\", \"tuiOption\", \"\", \"automation-id\", \"tui-data-list-wrapper__option\", 3, \"size\", \"value\", \"disabled\"], [\"elementRef\", \"elementRef\"], [\"polymorpheus-outlet\", \"\", 1, \"t-content\", 3, \"content\", \"context\"], [1, \"t-loader\"]],\n  template: function TuiDataListGroupWrapperComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵtemplate(0, TuiDataListGroupWrapperComponent_tui_data_list_0_Template, 2, 2, \"tui-data-list\", 0);\n      ɵngcc0.ɵɵtemplate(1, TuiDataListGroupWrapperComponent_ng_template_1_Template, 1, 0, \"ng-template\", null, 1, ɵngcc0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      const _r1 = ɵngcc0.ɵɵreference(2);\n\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.items)(\"ngIfElse\", _r1);\n    }\n  },\n  directives: [ɵngcc1.NgIf, ɵngcc2.TuiDataListComponent, ɵngcc1.NgForOf, ɵngcc2.TuiOptGroupDirective, ɵngcc2.TuiOptionComponent, ɵngcc3.TuiElementDirective, ɵngcc4.PolymorpheusOutletComponent, ɵngcc2.TuiLoaderComponent],\n  styles: [_c1],\n  changeDetection: 0\n});\n\nTuiDataListGroupWrapperComponent.ctorParameters = () => [{\n  type: undefined,\n  decorators: [{\n    type: Inject,\n    args: [TUI_ITEMS_HANDLERS]\n  }]\n}];\n\n__decorate([Input(), tuiDefaultProp$1()], TuiDataListGroupWrapperComponent.prototype, \"items\", void 0);\n\n__decorate([Input(), tuiDefaultProp$1()], TuiDataListGroupWrapperComponent.prototype, \"labels\", void 0);\n\nTuiDataListGroupWrapperComponent = TuiDataListGroupWrapperComponent_1 = __decorate([__param(0, Inject(TUI_ITEMS_HANDLERS))], TuiDataListGroupWrapperComponent);\nvar TuiDataListWrapperComponent_1;\nlet TuiDataListWrapperComponent = TuiDataListWrapperComponent_1 = class TuiDataListWrapperComponent extends AbstractDataListWrapper {\n  constructor(itemsHandlers) {\n    super(itemsHandlers);\n    this.items = [];\n  }\n\n};\n\nTuiDataListWrapperComponent.ɵfac = function TuiDataListWrapperComponent_Factory(t) {\n  return new (t || TuiDataListWrapperComponent)(ɵngcc0.ɵɵdirectiveInject(TUI_ITEMS_HANDLERS));\n};\n\nTuiDataListWrapperComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: TuiDataListWrapperComponent,\n  selectors: [[\"tui-data-list-wrapper\", 3, \"labels\", \"\"]],\n  inputs: {\n    items: \"items\"\n  },\n  features: [ɵngcc0.ɵɵProvidersFeature([{\n    provide: TUI_DATA_LIST_ACCESSOR$1,\n    useExisting: forwardRef(() => TuiDataListWrapperComponent_1)\n  }]), ɵngcc0.ɵɵInheritDefinitionFeature],\n  decls: 3,\n  vars: 2,\n  consts: [[3, \"emptyContent\", 4, \"ngIf\", \"ngIfElse\"], [\"loading\", \"\"], [3, \"emptyContent\"], [\"tuiElement\", \"\", \"tuiOption\", \"\", \"automation-id\", \"tui-data-list-wrapper__option\", 3, \"size\", \"value\", \"disabled\", 4, \"ngFor\", \"ngForOf\"], [\"tuiElement\", \"\", \"tuiOption\", \"\", \"automation-id\", \"tui-data-list-wrapper__option\", 3, \"size\", \"value\", \"disabled\"], [\"elementRef\", \"elementRef\"], [\"polymorpheus-outlet\", \"\", 1, \"t-content\", 3, \"content\", \"context\"], [\"automation-id\", \"tui-data-list-wrapper__loader\", 1, \"t-loader\"]],\n  template: function TuiDataListWrapperComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵtemplate(0, TuiDataListWrapperComponent_tui_data_list_0_Template, 2, 2, \"tui-data-list\", 0);\n      ɵngcc0.ɵɵtemplate(1, TuiDataListWrapperComponent_ng_template_1_Template, 1, 0, \"ng-template\", null, 1, ɵngcc0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      const _r1 = ɵngcc0.ɵɵreference(2);\n\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.items)(\"ngIfElse\", _r1);\n    }\n  },\n  directives: [ɵngcc1.NgIf, ɵngcc2.TuiDataListComponent, ɵngcc1.NgForOf, ɵngcc2.TuiOptionComponent, ɵngcc3.TuiElementDirective, ɵngcc4.PolymorpheusOutletComponent, ɵngcc2.TuiLoaderComponent],\n  styles: [_c1],\n  changeDetection: 0\n});\n\nTuiDataListWrapperComponent.ctorParameters = () => [{\n  type: undefined,\n  decorators: [{\n    type: Inject,\n    args: [TUI_ITEMS_HANDLERS]\n  }]\n}];\n\n__decorate([Input(), tuiDefaultProp()], TuiDataListWrapperComponent.prototype, \"items\", void 0);\n\nTuiDataListWrapperComponent = TuiDataListWrapperComponent_1 = __decorate([__param(0, Inject(TUI_ITEMS_HANDLERS))], TuiDataListWrapperComponent);\nlet TuiDataListWrapperModule = /*#__PURE__*/(() => {\n  let TuiDataListWrapperModule = class TuiDataListWrapperModule {};\n\n  TuiDataListWrapperModule.ɵfac = function TuiDataListWrapperModule_Factory(t) {\n    return new (t || TuiDataListWrapperModule)();\n  };\n\n  TuiDataListWrapperModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: TuiDataListWrapperModule\n  });\n  TuiDataListWrapperModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [[CommonModule, PolymorpheusModule, TuiElementModule, TuiDataListModule, TuiLoaderModule]]\n  });\n  return TuiDataListWrapperModule;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(TuiDataListWrapperModule, {\n    declarations: function () {\n      return [TuiDataListWrapperComponent, TuiDataListGroupWrapperComponent];\n    },\n    imports: function () {\n      return [CommonModule, PolymorpheusModule, TuiElementModule, TuiDataListModule, TuiLoaderModule];\n    },\n    exports: function () {\n      return [TuiDataListWrapperComponent, TuiDataListGroupWrapperComponent, TuiDataListDirective];\n    }\n  });\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { AbstractDataListWrapper, TuiDataListGroupWrapperComponent, TuiDataListWrapperComponent, TuiDataListWrapperModule }; //# sourceMappingURL=taiga-ui-kit-components-data-list-wrapper.js.map","map":null,"metadata":{},"sourceType":"module"}